---
import Link from "../components/Link.vue"

type Props = {
  title: string
  description: string
}

const { title, description } = Astro.props;
---

<html lang="en">
  <head>
    <link
      rel="preload"
      href="/fonts/Switzer-Variable.woff2"
      as="font"
      type="font/ttf"
      crossorigin="anonymous"
    />

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <title>{title}</title>
  </head>

  <script is:inline>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme"))
      return localStorage.getItem("theme")

    if (window.matchMedia("(prefers-color-scheme: dark)").matches)
      return "dark"
    else return "light"
  })()

  if (theme === "light")
    document.documentElement.classList.remove("dark")
  else document.documentElement.classList.add("dark")

  window.localStorage.setItem("theme", theme)
  </script>

  <body>
    <div class="mx-auto max-w-container px-4">

      <header class="h-37.5px flex items-center justify-between -mt-2">
        <slot name="header-content">
          <Link href="/">‚Üê back</Link>
        </slot>
      </header>

      <slot />
    </div>
  </body>
</html>

<style is:global>
  @font-face {
  font-family: "Switzer";
  src: url("/fonts/Switzer-Variable.woff2") format("woff2");
  font-weight: 300 900;
  font-display: swap;
  font-style: normal;
}

  body,
  html {
    @apply overflow-x-hidden;
  }

  html {
    @apply antialiased touch-manipulation scroll-smooth text-base;
    text-rendering: optimizeLegibility;

    &.dark {
      color-scheme: dark;
    }
  }

  body {
    font-family: "Switzer";
    @apply text-neutral-800 bg-white dark:(text-neutral-300 bg-neutral-900) px-0 md:px-4 py-4 md:py-8 relative min-h-screen text-sm md:text-base;
  }

  * {
    @apply outline-black selection-(bg-neutral-200 text-black) dark:(outline-white selection-(bg-neutral-700 text-white));
  }

  .prose {
    @apply max-w-container [&>:not(:last-child)]:mb-6;

    & h1 {
      @apply text-(xl imp) font-semibold;
    }

    & h2 {
      @apply text-(lg imp) font-semibold;
    }

    & h3 {
      @apply text-(base imp) font-semibold;
    }

    & strong {
      @apply font-medium text-imp;
    }

    & hr {
    @apply border-neutral-100 dark:border-neutral-800 border-b-2;
    }
}
</style>
